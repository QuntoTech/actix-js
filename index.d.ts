/* auto-generated by NAPI-RS */
/* eslint-disable */
export declare class DetachedRequestWrapper {
  /** è·å–è¯·æ±‚è·¯å¾„ */
  getPath(): string;
  /** è·å–è¯·æ±‚æ–¹æ³• */
  getMethod(): string;
  /** è·å–æŸ¥è¯¢å­—ç¬¦ä¸² */
  getQueryString(): string;
  /** è·å–URI */
  getUri(): string;
  /** è·å–æŸ¥è¯¢å‚æ•°ä½œä¸ºå¯¹è±¡ - é›¶æ‹·è´ä¼˜åŒ–ï¼šä½¿ç”¨é¢„è®¡ç®—ç¼“å­˜ï¼Œæ— è¿è¡Œæ—¶å¼€é”€ */
  getQueryParams(): { [key: string]: string };
  /** è·å–åŸå§‹è¯·æ±‚ä½“å­—ç¬¦ä¸² */
  getBodyString(): string;
  /** æ£€æŸ¥è¯·æ±‚ä½“æ˜¯å¦ä¸ºç©º */
  hasBody(): boolean;
  /** è·å–è¯·æ±‚ä½“å¤§å° */
  getBodySize(): number;
  /** å°è¯•å°†è¯·æ±‚ä½“è§£æä¸ºJSONå¯¹è±¡ - é›¶æ‹·è´ä¼˜åŒ–ï¼šä½¿ç”¨é¢„è®¡ç®—ç¼“å­˜ï¼Œæ— è¿è¡Œæ—¶å¼€é”€ */
  getBodyJson(): { [key: string]: any };
  /** è·å–æŒ‡å®šçš„è¯·æ±‚å¤´ */
  getHeader(name: string): string | null;
  /** è·å–æ‰€æœ‰è¯·æ±‚å¤´ */
  getHeaders(): { [key: string]: string };
  /** è·å–è·¯å¾„å‚æ•°ä½œä¸ºå¯¹è±¡ */
  getPathParams(): { [key: string]: string };
  /** è·å–æŒ‡å®šåç§°çš„è·¯å¾„å‚æ•°å€¼ */
  getPathParam(name: string): string | null;
  /**
   * å¼‚æ­¥å‘é€æ–‡æœ¬å“åº” - è¿”å›Promiseï¼Œæ”¯æŒawait
   *
   * # Safety
   * æ­¤å‡½æ•°è¢«æ ‡è®°ä¸ºunsafeæ˜¯ä¸ºäº†ä¸NAPIç»‘å®šå…¼å®¹ï¼Œä½†å®é™…æ“ä½œæ˜¯å®‰å…¨çš„ã€‚
   * å‡½æ•°å†…éƒ¨åªè¿›è¡Œå“åº”å‘é€æ“ä½œï¼Œä¸æ¶‰åŠå†…å­˜å®‰å…¨é—®é¢˜ã€‚
   */
  sendTextAsync(text: string): Promise<void>;
  /**
   * å¼‚æ­¥å‘é€JSONå“åº” - è¿”å›Promiseï¼Œæ”¯æŒawait
   *
   * # Safety
   * æ­¤å‡½æ•°è¢«æ ‡è®°ä¸ºunsafeæ˜¯ä¸ºäº†ä¸NAPIç»‘å®šå…¼å®¹ï¼Œä½†å®é™…æ“ä½œæ˜¯å®‰å…¨çš„ã€‚
   * å‡½æ•°å†…éƒ¨åªè¿›è¡Œå“åº”å‘é€æ“ä½œï¼Œä¸æ¶‰åŠå†…å­˜å®‰å…¨é—®é¢˜ã€‚
   */
  sendJsonAsync(json: string): Promise<void>;
  /**
   * ğŸš€ SIMD ä¼˜åŒ–çš„å¼‚æ­¥å¯¹è±¡åºåˆ—åŒ– - è¿”å›Promiseï¼Œæ”¯æŒawait
   *
   * # Safety
   * æ­¤å‡½æ•°è¢«æ ‡è®°ä¸ºunsafeæ˜¯ä¸ºäº†ä¸NAPIç»‘å®šå…¼å®¹ï¼Œä½†å®é™…æ“ä½œæ˜¯å®‰å…¨çš„ã€‚
   * å‡½æ•°å†…éƒ¨åªè¿›è¡ŒJSONåºåˆ—åŒ–å’Œå“åº”å‘é€æ“ä½œï¼Œä¸æ¶‰åŠå†…å­˜å®‰å…¨é—®é¢˜ã€‚
   */
  sendObjectAsync(obj: any): Promise<void>;
  /**
   * å¼‚æ­¥å‘é€ç©ºå“åº” - è¿”å›Promiseï¼Œæ”¯æŒawait
   *
   * # Safety
   * æ­¤å‡½æ•°è¢«æ ‡è®°ä¸ºunsafeæ˜¯ä¸ºäº†ä¸NAPIç»‘å®šå…¼å®¹ï¼Œä½†å®é™…æ“ä½œæ˜¯å®‰å…¨çš„ã€‚
   * å‡½æ•°å†…éƒ¨åªè¿›è¡Œå“åº”å‘é€æ“ä½œï¼Œä¸æ¶‰åŠå†…å­˜å®‰å…¨é—®é¢˜ã€‚
   */
  sendEmptyAsync(): Promise<void>;
  /**
   * å¼‚æ­¥å‘é€æœåŠ¡å™¨é”™è¯¯å“åº” - è¿”å›Promiseï¼Œæ”¯æŒawait
   *
   * # Safety
   * æ­¤å‡½æ•°è¢«æ ‡è®°ä¸ºunsafeæ˜¯ä¸ºäº†ä¸NAPIç»‘å®šå…¼å®¹ï¼Œä½†å®é™…æ“ä½œæ˜¯å®‰å…¨çš„ã€‚
   * å‡½æ•°å†…éƒ¨åªè¿›è¡Œå“åº”å‘é€æ“ä½œï¼Œä¸æ¶‰åŠå†…å­˜å®‰å…¨é—®é¢˜ã€‚
   */
  sendErrorAsync(message?: string | undefined | null): Promise<void>;
  /**
   * å¼‚æ­¥è®¾ç½®å“åº”çŠ¶æ€ç  - è¿”å›Promiseï¼Œæ”¯æŒawait
   *
   * # Safety
   * æ­¤å‡½æ•°è¢«æ ‡è®°ä¸ºunsafeæ˜¯ä¸ºäº†ä¸NAPIç»‘å®šå…¼å®¹ï¼Œä½†å®é™…æ“ä½œæ˜¯å®‰å…¨çš„ã€‚
   * å‡½æ•°å†…éƒ¨åªè¿›è¡ŒçŠ¶æ€ç è®¾ç½®æ“ä½œï¼Œä¸æ¶‰åŠå†…å­˜å®‰å…¨é—®é¢˜ã€‚
   */
  setStatusCodeAsync(status: number): Promise<boolean>;
  /**
   * å¼‚æ­¥æ·»åŠ å“åº”å¤´ - è¿”å›Promiseï¼Œæ”¯æŒawait
   *
   * # Safety
   * æ­¤å‡½æ•°è¢«æ ‡è®°ä¸ºunsafeæ˜¯ä¸ºäº†ä¸NAPIç»‘å®šå…¼å®¹ï¼Œä½†å®é™…æ“ä½œæ˜¯å®‰å…¨çš„ã€‚
   * å‡½æ•°å†…éƒ¨åªè¿›è¡Œå“åº”å¤´æ·»åŠ æ“ä½œï¼Œä¸æ¶‰åŠå†…å­˜å®‰å…¨é—®é¢˜ã€‚
   */
  addHeaderAsync(key: string, value: string): Promise<void>;
  /**
   * å¼‚æ­¥è·å–è¡¨å•æ•°æ®å‚æ•°ï¼Œæ”¯æŒ application/x-www-form-urlencoded å’Œ multipart/form-data æ ¼å¼
   * å¯¹äºæ–‡ä»¶å­—æ®µï¼Œç›´æ¥è¿”å›æ–‡ä»¶ä¿¡æ¯å¯¹è±¡ - é›¶æ‹·è´ä¼˜åŒ–ï¼šä½¿ç”¨é¢„è®¡ç®—ç¼“å­˜ï¼Œæ— è¿è¡Œæ—¶å¼€é”€
   *
   * # Safety
   * æ­¤å‡½æ•°è¢«æ ‡è®°ä¸ºunsafeæ˜¯ä¸ºäº†ä¸NAPIç»‘å®šå…¼å®¹ï¼Œä½†å®é™…æ“ä½œæ˜¯å®‰å…¨çš„ã€‚
   * å‡½æ•°å†…éƒ¨åªè¿›è¡Œç¼“å­˜æ•°æ®è¯»å–æ“ä½œï¼Œä¸æ¶‰åŠå†…å­˜å®‰å…¨é—®é¢˜ã€‚
   */
  getFormDataAsync(): Promise<any>;
  /**
   * å¼‚æ­¥è·å–è¡¨å•æ•°æ®ä¸­æŒ‡å®šé”®çš„å€¼ - é›¶æ‹·è´ä¼˜åŒ–ï¼šä½¿ç”¨é¢„è®¡ç®—ç¼“å­˜ï¼Œæ— è¿è¡Œæ—¶å¼€é”€
   *
   * # Safety
   * æ­¤å‡½æ•°è¢«æ ‡è®°ä¸ºunsafeæ˜¯ä¸ºäº†ä¸NAPIç»‘å®šå…¼å®¹ï¼Œä½†å®é™…æ“ä½œæ˜¯å®‰å…¨çš„ã€‚
   * å‡½æ•°å†…éƒ¨åªè¿›è¡Œç¼“å­˜æ•°æ®è¯»å–æ“ä½œï¼Œä¸æ¶‰åŠå†…å­˜å®‰å…¨é—®é¢˜ã€‚
   */
  getFormValueAsync(key: string): Promise<any | null>;
}

export declare class RequestWrapper {
  /** è·å–è¯·æ±‚è·¯å¾„ - é›¶æ‹·è´ä¼˜åŒ–ï¼šç›´æ¥è¿”å›ï¼Œé¿å…ä¸å¿…è¦çš„å…‹éš† */
  getPath(): string;
  /** è·å–è¯·æ±‚æ–¹æ³• - é›¶æ‹·è´ä¼˜åŒ–ï¼šç›´æ¥è¿”å›ï¼Œé¿å…ä¸å¿…è¦çš„å…‹éš† */
  getMethod(): string;
  /** è·å–æŸ¥è¯¢å­—ç¬¦ä¸² - é›¶æ‹·è´ä¼˜åŒ–ï¼šç›´æ¥è¿”å›ï¼Œé¿å…ä¸å¿…è¦çš„å…‹éš† */
  getQueryString(): string;
  /** è·å–URI - é›¶æ‹·è´ä¼˜åŒ–ï¼šç›´æ¥è¿”å›ï¼Œé¿å…ä¸å¿…è¦çš„å…‹éš† */
  getUri(): string;
  /** è·å–æŸ¥è¯¢å‚æ•°ä½œä¸ºå¯¹è±¡ - é›¶æ‹·è´ä¼˜åŒ–ï¼šå»¶è¿Ÿè§£æï¼Œåªè®¡ç®—ä¸€æ¬¡ */
  getQueryParams(): { [key: string]: string };
  /** è·å–åŸå§‹è¯·æ±‚ä½“å­—ç¬¦ä¸² - é›¶æ‹·è´ä¼˜åŒ–ï¼šç›´æ¥ä½¿ç”¨ Bytes çš„é›¶æ‹·è´ç‰¹æ€§ */
  getBodyString(): string;
  /** æ£€æŸ¥è¯·æ±‚ä½“æ˜¯å¦ä¸ºç©º - é›¶æ‹·è´ä¼˜åŒ–ï¼šç›´æ¥æ£€æŸ¥ï¼Œä¸è§£æå†…å®¹ */
  hasBody(): boolean;
  /** è·å–è¯·æ±‚ä½“å¤§å° - é›¶æ‹·è´ä¼˜åŒ–ï¼šç›´æ¥è¿”å›å­—èŠ‚é•¿åº¦ */
  getBodySize(): number;
  /**
   * ğŸš€ SIMD ä¼˜åŒ–çš„ JSON è§£æ - ä½¿ç”¨ simd-json æå‡ 2-3 å€æ€§èƒ½
   * å°è¯•å°†è¯·æ±‚ä½“è§£æä¸ºJSONå¯¹è±¡ - é›¶æ‹·è´ä¼˜åŒ–ï¼šå»¶è¿Ÿè§£æï¼Œåªè®¡ç®—ä¸€æ¬¡
   */
  getBodyJson(): { [key: string]: any };
  /**
   * è·å–è¡¨å•æ•°æ®å‚æ•°ï¼Œæ”¯æŒ application/x-www-form-urlencoded å’Œ multipart/form-data æ ¼å¼
   * å¯¹äºæ–‡ä»¶å­—æ®µï¼Œç›´æ¥è¿”å›æ–‡ä»¶ä¿¡æ¯å¯¹è±¡ - é›¶æ‹·è´ä¼˜åŒ–ï¼šå»¶è¿Ÿè§£æï¼Œåªè®¡ç®—ä¸€æ¬¡
   */
  getFormData(): any;
  /** è·å–è¡¨å•æ•°æ®ä¸­æŒ‡å®šé”®çš„å€¼ - é›¶æ‹·è´ä¼˜åŒ–ï¼šä½¿ç”¨ç¼“å­˜çš„è¡¨å•æ•°æ® */
  getFormValue(key: string): any | null;
  /** è·å–æŒ‡å®šçš„è¯·æ±‚å¤´ - é›¶æ‹·è´ä¼˜åŒ–ï¼šä½¿ç”¨å»¶è¿Ÿè§£æçš„ç¼“å­˜ */
  getHeader(name: string): string | null;
  /** è·å–æ‰€æœ‰è¯·æ±‚å¤´ - é›¶æ‹·è´ä¼˜åŒ–ï¼šå»¶è¿Ÿè§£æï¼Œåªè®¡ç®—ä¸€æ¬¡ */
  getHeaders(): { [key: string]: string };
  /**
   * è·å–è·¯å¾„å‚æ•°ä½œä¸ºå¯¹è±¡ï¼Œä¾‹å¦‚è·¯ç”± /api/test/:id åŒ¹é…è¯·æ±‚ /api/test/123 æ—¶è¿”å› {id: "123"}
   * é›¶æ‹·è´ä¼˜åŒ–ï¼šç›´æ¥è¿”å›å¼•ç”¨çš„å…‹éš†ï¼Œé¿å…é‡å¤æ„å»º
   */
  getPathParams(): { [key: string]: string };
  /** è·å–æŒ‡å®šåç§°çš„è·¯å¾„å‚æ•°å€¼ - é›¶æ‹·è´ä¼˜åŒ–ï¼šç›´æ¥ä»HashMapæŸ¥æ‰¾ï¼Œé¿å…é‡å¤éå† */
  getPathParam(name: string): string | null;
  /** å‘é€æ–‡æœ¬å“åº” */
  sendText(text: string): void;
  /** å‘é€JSONå“åº” */
  sendJson(json: string): void;
  /** ğŸš€ SIMD ä¼˜åŒ–çš„å¯¹è±¡åºåˆ—åŒ– - å‘é€å¯¹è±¡ä½œä¸ºJSONå“åº” */
  sendObject(obj: any): void;
  /** å‘é€ç©ºå“åº” */
  sendEmpty(): void;
  /** å‘é€æœåŠ¡å™¨é”™è¯¯å“åº” */
  sendError(message?: string | undefined | null): void;
  /** è®¾ç½®å“åº”çŠ¶æ€ç  */
  setStatusCode(status: number): boolean;
  /** æ·»åŠ å“åº”å¤´ */
  addHeader(key: string, value: string): void;
}

export declare class Server {
  constructor(options: ServerOptions);
  start(): string;
  stop(): Promise<string>;
}

/** æ¸…ç†æ‰€æœ‰è·¯ç”± */
export declare function cleanupRouter(): void;

/** æ¸…ç†è·¯ç”±ç¼“å­˜ - åœ¨éœ€è¦å¼ºåˆ¶åˆ·æ–°ç¼“å­˜æ—¶è°ƒç”¨ */
export declare function clearRouterCache(): void;

/** æ³¨å†ŒDELETEè·¯ç”±ï¼ˆå…¼å®¹æ—§ç‰ˆæœ¬ï¼‰ */
export declare function del(route: string, callback: (err: Error | null, arg: RequestWrapper) => any): void;

/** æ³¨å†ŒDELETEè·¯ç”±ï¼ˆå¼‚æ­¥ç‰ˆæœ¬ï¼‰ */
export declare function delAsync(
  route: string,
  callback: (err: Error | null, arg: DetachedRequestWrapper) => any,
): void;

export interface FileInfo {
  type: string;
  originalName: string;
  filename: string;
  path: string;
  contentType?: string;
  size: number;
}

export declare function forceCleanup(): void;

export declare function forceExit(): void;

/** æ³¨å†ŒGETè·¯ç”±ï¼ˆå…¼å®¹æ—§ç‰ˆæœ¬ï¼‰ */
export declare function get(route: string, callback: (err: Error | null, arg: RequestWrapper) => any): void;

/** æ³¨å†ŒGETè·¯ç”±ï¼ˆå¼‚æ­¥ç‰ˆæœ¬ï¼‰ */
export declare function getAsync(
  route: string,
  callback: (err: Error | null, arg: DetachedRequestWrapper) => any,
): void;

/** HTTPæ–¹æ³•æšä¸¾ */
export declare const enum Methods {
  GET = 0,
  POST = 1,
  PUT = 2,
  PATCH = 3,
  DELETE = 4,
}

/** æ³¨å†Œæ–°è·¯ç”±ï¼ˆå…¼å®¹æ—§ç‰ˆæœ¬ï¼‰ */
export declare function newRoute(
  route: string,
  method: Methods,
  callback: (err: Error | null, arg: RequestWrapper) => any,
): void;

/** æ³¨å†Œæ–°è·¯ç”±ï¼ˆå¼‚æ­¥ç‰ˆæœ¬ï¼‰ */
export declare function newRouteAsync(
  route: string,
  method: Methods,
  callback: (err: Error | null, arg: DetachedRequestWrapper) => any,
): void;

/** æ³¨å†ŒPATCHè·¯ç”±ï¼ˆå…¼å®¹æ—§ç‰ˆæœ¬ï¼‰ */
export declare function patch(route: string, callback: (err: Error | null, arg: RequestWrapper) => any): void;

/** æ³¨å†ŒPATCHè·¯ç”±ï¼ˆå¼‚æ­¥ç‰ˆæœ¬ï¼‰ */
export declare function patchAsync(
  route: string,
  callback: (err: Error | null, arg: DetachedRequestWrapper) => any,
): void;

/** æ³¨å†ŒPOSTè·¯ç”±ï¼ˆå…¼å®¹æ—§ç‰ˆæœ¬ï¼‰ */
export declare function post(route: string, callback: (err: Error | null, arg: RequestWrapper) => any): void;

/** æ³¨å†ŒPOSTè·¯ç”±ï¼ˆå¼‚æ­¥ç‰ˆæœ¬ï¼‰ */
export declare function postAsync(
  route: string,
  callback: (err: Error | null, arg: DetachedRequestWrapper) => any,
): void;

/** æ³¨å†ŒPUTè·¯ç”±ï¼ˆå…¼å®¹æ—§ç‰ˆæœ¬ï¼‰ */
export declare function put(route: string, callback: (err: Error | null, arg: RequestWrapper) => any): void;

/** æ³¨å†ŒPUTè·¯ç”±ï¼ˆå¼‚æ­¥ç‰ˆæœ¬ï¼‰ */
export declare function putAsync(
  route: string,
  callback: (err: Error | null, arg: DetachedRequestWrapper) => any,
): void;

export interface ServerOptions {
  host: string;
  port: number;
}

export declare function sum(a: number, b: number): number;
